const loginForm=new Validator("#login"),msgLogin=document.querySelector("#login .login-msg"),linkGithub=window.location.href.includes("/WebSite_BanGiay_T3H2")?"/WebSite_BanGiay_T3H2":"";document.referrer.includes("Login")||document.referrer.includes("Register")||document.referrer.includes("forgotPassword.html")||localStorage.setItem("prevHref",document.referrer),loginForm.onSubmit=e=>{const o=(JSON.parse(localStorage.getItem("user-ttthh-key"))??[]).find((o=>o.email===e.email&&o.password===e.password));if(o){localStorage.setItem("user-ttthh-info",JSON.stringify(o));var r=window.location.href,i=new URL(r).searchParams.get("href");if(i)window.location=linkGithub+`/${i}.html`;else{const e=localStorage.getItem("prevHref");localStorage.removeItem("prevHref"),window.location=e||linkGithub}}else msgLogin.classList.add("invalid"),msgLogin.querySelector(".form-messenger").innerHTML='<span><i class="fas fa-times"></i></span>Email hoặc mật khẩu không đúng.'};