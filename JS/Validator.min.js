function Validator(e){const n=document.querySelector(e),t=n.querySelectorAll("[rule]"),i=[...n.querySelectorAll("input")];let r="",a="";const o={},l={required:e=>e?void 0:"Vui lòng nhập trường này",email:e=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)?void 0:"Vui lòng nhập email",min:e=>n=>n.length>=e?void 0:`Vui lòng nhập hơn ${e} ký tự`,formatDate(e){if(0!==e.length)return/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e)?void 0:"Vui lòng nhập theo dạng DD/MM/YYYY"},uniqueEmail:e=>(JSON.parse(localStorage.getItem("user-ttthh-key"))?.map((e=>e.email))??[]).includes(e)?"Email đã được sử dụng":void 0,uniqueSubmitCode(e){if(6!==e.length)return"Phải đúng 6 kí tự!";return/^[a-zA-Z0-9]{6}$/.test(e)?""===e||e!==a?"Mã xác thực không đúng!":void 0:"Không được có ký tự đặc biệt hay dấu cách"},beforeDayNow(e){if(""!==e)return new Date(e.split("/").reverse().join("-"))<new Date?void 0:"Ngày sinh phải bé hơn ngày hiện tại"}};function u(e,n){for(e=e.parentElement;e;){if(e.matches(n))return e;e=e.parentElement}}function c(e){var n;return o[e.name].find((t=>n=t(e.value))),n}function m(e){e.classList.remove("invalid"),e.querySelector(".form-messenger").innerHTML=""}function s(e,n){var t=u(e,".form-group");return n?function(e,n){e.classList.add("invalid"),e.querySelector(".form-messenger").innerHTML='<span><i class="fas fa-times"></i></span>'+n}(t,n):m(t),!n}n&&(t.forEach((e=>{e.getAttribute("rule").split("|").forEach((n=>{var t;if(n.includes(":")){var i=n.split(":");t=l[i[0]](Number(i[1]))}else t=l[n];o[e.name]?o[e.name].push(t):o[e.name]=[t]})),e.onblur=()=>s(e,c(e)),e.oninput=()=>m(u(e,".form-group"))})),n.onsubmit=e=>{e.preventDefault();var r=!0;if(t.forEach((e=>{s(e,c(e))||(r=!1)})),r){var a=i.reduce(((e,n)=>"radio"!==n.type||n.checked?(e[n.name]=n.value,e):e),{});this.onSubmit?this.onSubmit(a):n.submit()}});const h=$(".form-group__item__text.get-code");h&&h.click((()=>{if(s($("input#email-id")[0],c($("input#email-id")[0]))){const e=$("input#email-id")[0].value;console.log(e),""===a||r!==e?(r=e,a=Math.random().toString(36).substring(2,8),Email.sendEmail(e,"HTTTH Shop, Xác thực tài khoản!","Mã xác thực tài khoản của bạn là : "+a).then((()=>alert("Đã gửi mã xác thực đến gmail của bạn!")))):alert("Đã gửi mã xác thực đến gmail của bạn!")}}))}