function Validator(e){const n=document.querySelector(e),t=n.querySelectorAll("[rule]"),r=[...n.querySelectorAll("input")],i={},a={required:e=>e?void 0:"Vui lòng nhập trường này",email:e=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)?void 0:"Vui lòng nhập email",min:e=>n=>n.length>=e?void 0:`Vui lòng nhập hơn ${e} ký tự`,formatDate(e){if(0!==e.length)return/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e)?void 0:"Vui lòng nhập theo dạng DD/MM/YYYY"},uniqueEmail:e=>(JSON.parse(localStorage.getItem("user-ttthh-key"))?.map((e=>e.email))??[]).includes(e)?"Email đã được sử dụng":void 0};function u(e,n){for(e=e.parentElement;e;){if(e.matches(n))return e;e=e.parentElement}}function l(e){var n;return i[e.name].find((t=>n=t(e.value))),n}function o(e){e.classList.remove("invalid"),e.querySelector(".form-messenger").innerHTML=""}function s(e,n){var t=u(e,".form-group");return n?function(e,n){e.classList.add("invalid"),e.querySelector(".form-messenger").innerHTML='<span><i class="fas fa-times"></i></span>'+n}(t,n):o(t),!n}n&&(t.forEach((e=>{e.getAttribute("rule").split("|").forEach((n=>{var t;if(n.includes(":")){var r=n.split(":");t=a[r[0]](Number(r[1]))}else t=a[n];i[e.name]?i[e.name].push(t):i[e.name]=[t]})),e.onblur=()=>s(e,l(e)),e.oninput=()=>o(u(e,".form-group"))})),n.onsubmit=e=>{e.preventDefault();var i=!0;if(t.forEach((e=>{s(e,l(e))||(i=!1)})),i){var a=r.reduce(((e,n)=>"radio"!==n.type||n.checked?(e[n.name]=n.value,e):e),{});this.onSubmit?this.onSubmit(a):n.submit()}})}