function Validator(e){const n=document.querySelector(e),t=n.querySelectorAll("[rule]"),i=[...n.querySelectorAll("input")];const r={},a={required:e=>e?void 0:"Vui lòng nhập trường này",email:e=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)?void 0:"Vui lòng nhập email",uniqueEmail:e=>(JSON.parse(localStorage.getItem("user-ttthh-key"))?.map((e=>e.email))??[]).includes(e)?void 0:"Không có email này trong hệ thống, xin kiểm tra lại!"};function l(e,n){for(e=e.parentElement;e;){if(e.matches(n))return e;e=e.parentElement}}function o(e){var n;return r[e.name].find((t=>n=t(e.value))),n}function u(e){e.classList.remove("invalid"),e.querySelector(".form-messenger").innerHTML=""}function c(e,n){var t=l(e,".form-group");return n?function(e,n){e.classList.add("invalid"),e.querySelector(".form-messenger").innerHTML='<span><i class="fas fa-times"></i></span>'+n}(t,n):u(t),!n}n&&(t.forEach((e=>{e.getAttribute("rule").split("|").forEach((n=>{var t;if(n.includes(":")){var i=n.split(":");t=a[i[0]](Number(i[1]))}else t=a[n];r[e.name]?r[e.name].push(t):r[e.name]=[t]})),e.onblur=()=>c(e,o(e)),e.oninput=()=>u(l(e,".form-group"))})),n.onsubmit=e=>{e.preventDefault();var n=!0;if(t.forEach((e=>{c(e,o(e))||(n=!1)})),n){let e=i.reduce(((e,n)=>"radio"!==n.type||n.checked?(e[n.name]=n.value,e):e),{}).email,n="";JSON.parse(localStorage.getItem("user-ttthh-key")).forEach((t=>{t.email===e&&(n=t.password)})),Email.sendEmail(e,"HTTTH Shop, Quên mật khẩu!","Mật khẩu đăng nhập của bạn là : "+n).then((()=>{alert("Mật khẩu đã được gửi tới hộp thư gmail của bạn!");const e=window.location.href.includes("/WebSite_BanGiay_T3H2")?"/WebSite_BanGiay_T3H2":"";window.location=e+"/Login.html"}))}})}