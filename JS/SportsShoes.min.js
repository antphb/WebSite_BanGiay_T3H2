(()=>{var t=window.location.href,e=new URL(t).searchParams.get("page");let n="list-products",o="sitemap",a="introduce",s="category",i="filter",c=".header__navbar__item--";var l;e?(document.title=(l=e).charAt(0).toUpperCase()+l.slice(1),n+=`-${e}`,o+=`-${e}`,a+=`-${e}`,s+=`-${e}`,i+=`-${e}`,c+=e):c+="product";const r=[n,o,a,s,i];Promise.all(r.map((t=>fetch(`https://json-server-web-giay-btl.herokuapp.com/${t}`)))).then((t=>Promise.all(t.map((t=>t.text()))))).then((t=>{t[1]=JSON.parse(t[1]),$("section").prepend(`\n            <nav class="sitemap" style="background: url(${t[1].background});" data-sitemap-item="${t[1].item.join(", ")}" data-sitemap-link="${t[1].link.join(", ")}" data-sitemap-title="${t[1].title}"></nav>\n        `),Sitemap(),$(".sub-sitemap").html(`\n            <img class="img-fluid" src="${t[1].background}" alt="${t[1].title}">\n            <h1 class="sitemap__title mt-4 mb-0">${t[1].title}</h1>\n        `);const e=JSON.parse(t[2]);$(".content .introduce").html(e.description),e["list-products"]&&$(".product-introduction").html(`\n        <div class="row">\n            ${e["list-products"].map((t=>`\n                <div class="col col-xl-4 col-lg-4 col-md-6 col-sm-6 col-6">\n                    <li class="product-introduction__item">\n                        <div title="Women" class="product-introduction__img">\n                            <a href="">\n                                <img class="img-cover" src="./IMG/${t.image}" alt="${t.title}">\n                            </a>\n                        </div>\n                        <h4 class="product-introduction__name">\n                            <a href="">${t.title}</a>\n                        </h4>\n                        <p class="product-introduction__description">${t.description}</p>\n                    </li>\n                </div>\n            `)).join("")}\n        </div>\n    `);const n=JSON.parse(t[3]);n.title&&$(".category__danger").html((t=>`\n        <div class="category__title">\n            <a href="">${t.title.toUpperCase()}</a>\n        </div>\n        <ul class="category__list">\n            ${t["category-list"].map((t=>`\n                <li class="category__item">\n                    <a href="${t.link||""}" class="category__link">${t.title} (<span>${t.number}</span>)</a>\n                    <div class="category__icon ${t.submenu||"hidden"}">\n                        <i class="fas fa-plus"></i>\n                    </div>\n                    <ul class="category__submenu">\n                        ${t.submenu?t.submenu.map((t=>`\n                            <li class="category__subitem">\n                                <span class="category__subicon">\n                                    <i class="fas fa-chevron-right"></i>\n                                </span>\n                                <a href="" class="category__sublink">${t.title} (<span>${t.number}</span>)</a>\n                            </li>\n                        `)).join(""):""}\n                    </ul>\n                </li>\n            `)).join("")}\n        </ul>\n    `)(n));const{Categories:o,Sizes:a,Color:s,Compositions:i,Styles:l,Properties:r,Prices:d}=JSON.parse(t[4]);handleSportsShoes(JSON.parse(t[0]),o,a,s,i,l,r,d),window.innerWidth>=991&&$(c)?.addClass("active"),$(".loading").addClass("hidden"),$(".app").removeClass("hidden")}))})();const getPriceProduct=t=>t.discount?t.price*(100-t.discount)/100:t.price;function handleSportsShoes(t,e,n,o,a,s,i,c){const l=$(".category__icon"),r=$(".category__primary__body"),d=$(".category__product__body--on-sale"),_=$(".category__product__body--best-sellers"),p=$(".category__product__body--new-products"),m=$(".content-product__filter__sort__by"),g=$(".content-product__list"),u=$(".content-product__filter__icon__item");l.click((function(){$(this).toggleClass("active"),$(this).hasClass("active")?$(this).next(".category__submenu").animateAuto("height",200):$(this).next(".category__submenu").animate({height:"0"},100,"linear")}));const h=(t,e)=>`\n            <h4 class="category__list__title">${t}</h4>\n            <ul class="category__list category__list--checkbox">\n                ${e.map((e=>`\n                        <li class="category__item">\n                            <input id="${e.name}" value="${e.name}" type="checkbox" name="${t.toLowerCase()}">\n                            <label for="${e.name}">${e.name} <span>(${e.number})</span></label>\n                        </li>\n                    `)).join("")}\n            </ul>\n        `;e&&(r.append(h("Categories",e)),r.append(h("Size",n)),r.append(`\n            <h4 class="category__list__title">${"Color"}</h4>\n            <ul class="category__list__color">\n                ${o.map((t=>`\n                    <li data-bg-color="${t.name}" class="category__item__color">\n                        <span class="category__item__color__checkbox">\n                            <input type="checkbox">\n                        </span>\n                        <span class="category__item__color__text">\n                            ${t.name} <span>(${t.number})</span>\n                        </span>\n                    </li>\n                `)).join("")}\n            </ul>\n        `),r.append(h("Compositions",a)),r.append(h("Styles",s)),r.append(h("Properties",i)),r.append(h("Price",c)));[...$(".category__item__color")].forEach((t=>{$(t).children(".category__item__color__checkbox").css("background-color",t.getAttribute("data-bg-color"))}));const v=t=>`\n            <ul class="category__product__list">\n                ${t.map((t=>`\n                    <li class="category__product__item">\n                        <div class="category__product__img">\n                            <a href="">\n                                <img class="img-cover " src="./IMG/${t.image}" alt="${t.name}">\n                                <img class="img-cover hover" src="./IMG/${t.imageHover}" alt="${t.name}">\n                            </a>\n                        </div>\n                        <div class="category__product__info">\n                            <div class="rating">\n                                <i class="fas fa-star"></i>\n                                <i class="fas fa-star"></i>\n                                <i class="fas fa-star"></i>\n                                <i class="fas fa-star"></i>\n                                <i class="fas fa-star"></i>\n                            </div>\n                            <h5 class="category__product__title">\n                                <a href="">${t.name}</a>\n                            </h5>\n                            <div class="category__product__price">\n                                <span class="old-price ${t.discount||"hidden"}">$${t.price.toFixed(2)}</span>\n                                <span class="discount ${t.discount||"hidden"}">(-${t.discount}%)</span>\n                                ${t.discount?"<br>":""}\n                                <span class="price">$${getPriceProduct(t).toFixed(2)}</span>\n                            </div>\n                        </div>\n                    </li>\n                `)).join("")}\n            </ul>\n        `;d.html(v([{image:"MenSportsShoes-OnSale-1.jpg",imageHover:"MenSportsShoes-OnSale-1-hover.jpg",name:"Slip On Shoes",price:390.89,discount:10},{image:"MenSportsShoes-OnSale-2.jpg",imageHover:"MenSportsShoes-OnSale-2-hover.jpg",name:"Zeven Thrust Shoes",price:290,discount:10},{image:"MenSportsShoes-OnSale-3.jpg",imageHover:"MenSportsShoes-OnSale-3-hover.jpg",name:"Aero Power Shoes",price:390.89,discount:20}])),_.html(v([{image:"MenSportsShoes-BestSellers-1.jpg",imageHover:"MenSportsShoes-BestSellers-1-hover.jpg",name:"Asics Women's Shoes",price:56.99},{image:"MenSportsShoes-BestSellers-2.jpg",imageHover:"MenSportsShoes-BestSellers-2-hover.jpg",name:"Nivia Tennis Shoes",price:105.99},{image:"MenSportsShoes-BestSellers-3.jpg",imageHover:"MenSportsShoes-BestSellers-3-hover.jpg",name:"Lunar Force Shoes",price:88.65}])),p.html(v([{image:"MenSportsShoes-NewProduct-1.jpg",imageHover:"MenSportsShoes-NewProduct-1-hover.jpg",name:"Zeven Thrust Shoes",price:290,discount:10},{image:"MenSportsShoes-NewProduct-2.jpg",imageHover:"MenSportsShoes-NewProduct-2-hover.jpg",name:"Indoor Court Shoes",price:45.99},{image:"MenSportsShoes-NewProduct-3.jpg",imageHover:"MenSportsShoes-NewProduct-3-hover.jpg",name:"Swerve Women's Shoes",price:44.99}])),m.click((function(t){$(this).toggleClass("active"),t.stopPropagation()})),app.click((()=>m.removeClass("active")));let f={};const y=(t,e)=>{let n=[...t];const o=+g[0].getAttribute("data-page"),a=g.attr("data-filter").split("|");a[0]?n.sort(((t,e)=>"price"===a[0]&&getPriceProduct(t)!==getPriceProduct(e)||t[a[0]]===e[a[0]]?getPriceProduct(t)>getPriceProduct(e)?a[1]:-1*a[1]:t[a[0]]>e[a[0]]?a[1]:-1*a[1])):n=[...t],e&&Object.keys(e).forEach((t=>{0!==e[t]?.length&&(n="price"===t?n.filter((n=>{const o=getPriceProduct(n);return e[t].some((t=>{const e=t.split(" - ")[0].split("$")[1],n=t.split(" - ")[1].split("$")[1];return o>=e&&o<=n}))})):n.filter((n=>n[t].length+e[t].length!==[...new Set([...e[t],...n[t]])].length)))})),(t=>{const e=t.length;$(".content-product__filter__number span").html(e),$(".content-product__pagination__title .count").html(e),$(".content-product__pagination__title .from").html(0===e?e:1),$(".content-product__pagination__title .to").html(Math.min(e,9)),scrollToElement($(".content-product")[0],"start")})(n),console.log(n),$(".content-product__pagination__btn-nav")[n.length<=9?"addClass":"removeClass"]("hidden");const s=JSON.parse(localStorage.getItem("TTTHH-COMPARE-KEY"))??[];return`\n            <div class="row no-gutters">\n                ${n.map(((t,e)=>e<9*(o-1)||e>=9*o?"":`\n                    <div class="col col-xl-4 col-lg-4 col-md-6 col-sm-12 col-12">\n                        <div class="content-product__item pb-md-3 position-relative d-flex flex-column no-gutters">\n                            <div class="content-product__item__img order-1">\n                                <a href="${window.location.href.includes("WebSite_BanGiay_T3H2")?"/WebSite_BanGiay_T3H2":""}/ProductDetaildPage.html?product=${t.slug}">\n                                    <img class="img-cover" src="./IMG/${t.image}" alt="${t.name}">\n                                    <img class="img-cover hover" src="./IMG/${t.imageHover}" alt="${t.name}">\n                                    <ul class="product-flags d-flex flex-wrap list-unstyled">\n                                        ${t.productFlags.map((t=>`\n                                                <li class="product-flag mb-1 ${t.toLowerCase().split(" ").join("-")}">${t}</li>\n                                            `)).join("")}\n                                    </ul>\n                                </a>\n                            </div>\n                            <div class="content-product__item__info order-3">\n                                <div class="rating">\n                                    <i class="fas fa-star"></i>\n                                    <i class="fas fa-star"></i>\n                                    <i class="fas fa-star"></i>\n                                    <i class="fas fa-star"></i>\n                                    <i class="fas fa-star"></i>\n                                </div>\n                                <h4 class="content-product__item__info__name">\n                                    <a href="${window.location.href.includes("WebSite_BanGiay_T3H2")?"/WebSite_BanGiay_T3H2":""}/ProductDetaildPage.html?product=${t.slug}">${t.name.replace("$$","'")}</a>\n                                </h4>\n                                <p class="content-product__item__info__price">\n                                    <span class="mx-0 old-price ${t.discount||"hidden"}">$${t.price.toFixed(2)}</span>\n                                    <span class="discount ${t.discount||"hidden"}">(-${t.discount}%)</span>\n                                    <span class="price">$${getPriceProduct(t).toFixed(2)}</span>\n                                </p>\n                            </div>\n                            <ul class="function-buttons list-unstyled order-2 mt-3-md mb-0-md">\n                                <li class="hidden-sm" onclick='showModalProduct(${JSON.stringify(t)})' style="--i: 0;"><a class="d-flex align-items-center justify-content-center"><i class="fas fa-expand-arrows-alt"></i></a></li>\n                                <li class="${s.hasProduct(t)&&"active"}" onclick='handlerClickCompare(this, ${JSON.stringify(t)}, "#modal-tost", "The product has been added to list compare. <a href=/ProductsCompare.html>View list compare.</a>")' style="--i: 1;"><a class="d-flex align-items-center justify-content-center"><i class="fas fa-redo"></i></a></li>\n                                <li onclick='handlerClickCart(this, ${JSON.stringify(t)}, "#modal-tost", "${t.name} Product successfully added to your shopping cart. <a href=/Cart.html>View cart.</a>")' style="--i: 2;"><a class="d-flex align-items-center justify-content-center"><i class="fas fa-shopping-cart"></i></a></li>\n                            </ul>\n                        </div>\n                    </div>\n                `)).join("")}\n            </div>\n        `};$(".content-product__filter__number span").html(t.length),$(".content-product__pagination__title .count").html(t.length),g.html(y(t)),$(".content-product__pagination__btn-nav").html((t=>{if(t<=1)return"";let e='\n            <div class="content-product__pagination__btn content-product__pagination__btn--first hidden">\n                <i class="fas fa-long-arrow-alt-left"></i>\n            </div>\n            <div class="content-product__pagination__btn content-product__pagination__btn--first active">\n                1\n            </div>\n        ';for(let n=2;n<t;n++)e+=`\n                <div class="content-product__pagination__btn">\n                    ${n}\n                </div>\n            `;return t>=2&&(e+=`\n                <div class="content-product__pagination__btn content-product__pagination__btn--last">\n                    ${t}\n                </div>\n                <div class="content-product__pagination__btn content-product__pagination__btn--last">\n                    <i class="fas fa-long-arrow-alt-right"></i>\n                </div>\n            `),e})(Math.ceil(t.length/9))),$(".content-product__pagination__title .from").html(Math.min(1,t.length)),$(".content-product__pagination__title .to").html(Math.min(9,t.length));const b=$(".content-product__pagination__btn");b.click((function(){let e;if(b.removeClass("hidden"),b.removeClass("active"),$(this).hasClass("content-product__pagination__btn--first"))e=1,$(b[0]).addClass("hidden"),$(b[1]).addClass("active");else if($(this).hasClass("content-product__pagination__btn--last")){e=Math.ceil(t.length/9);let n=b.length;$(b[n-1]).addClass("hidden"),$(b[n-2]).addClass("active")}else e=+g[0].getAttribute("data-page")+1,$(this).addClass("active");g[0].setAttribute("data-page",e),g.html(y(t)),$(".content-product__pagination__title .from").html(9*(e-1)+1),$(".content-product__pagination__title .to").html(Math.min(t.length,9*e)),scrollToElement($(".content-product")[0],"start")})),u.click((function(t){u.removeClass("active"),$(this).addClass("active");const e=$(".content-product__list > .row > div").children(),n=e.children();$(".content-product__filter__icon__item--list").hasClass("active")?($(".content-product__list > .row > div").removeClass(),$(".content-product__list > .row > div").addClass("col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"),e.addClass("row"),e.removeClass("flex-column"),[...n].forEach(((t,e)=>{e%3==0?($(t).removeClass("order-1"),$(t).addClass(" col col-xl-4 col-lg-4 col-md-6 col-sm-6 col-6 mb-0")):e%3==1?($(t).removeClass("order-3"),$(t).addClass(" col col-xl-8 col-lg-8 col-md-6 col-sm-6 col-6")):$(t).removeClass("order-2")}))):($(".content-product__list > .row > div").removeClass(),$(".content-product__list > .row > div").addClass("col col-xl-4 col-lg-4 col-md-6 col-sm-6 col-6"),e.removeClass("row"),e.addClass("flex-column"),[...n].forEach(((t,e)=>{e%3==0?($(t).addClass("order-1"),$(t).removeClass("col col-xl-4 col-lg-4 col-md-6 col-sm-6 col-6 mb-0")):e%3==1?($(t).addClass("order-3"),$(t).removeClass("col col-xl-8 col-lg-8 col-md-6 col-sm-6 col-6")):$(t).addClass("order-2")})))}));const S=$(".content-product__filter__sort__by__name span.name");[...$(".content-product__filter__sort__by__list ul li")].forEach((e=>{$(e).click((function(){S.html(this.innerHTML),g.attr("data-filter",this.getAttribute("data-filter")),g.attr("data-page",1),b.removeClass("hidden"),b.removeClass("active"),$(b[0]).addClass("hidden"),$(b[1]).addClass("active"),g.html(y(t)),$(".content-product__pagination__title .from").html(1),$(".content-product__pagination__title .to").html(Math.min(t.length,9)),scrollToElement($(".content-product")[0],"start")}))})),$(".category__primary__body .category__item input").change((function(){const e=this.name,n=this.value;this.checked?f[e]?f[e].push(n):f[e]=[n]:f[e]=f[e].filter((t=>t!==n)),g[0].setAttribute("data-page",1),g.html(y(t,f))})),$(".category__primary__body .category__item__color").click((function(){const e=this.getAttribute("data-bg-color");$(this).toggleClass("active"),$(this).hasClass("active")?f.color?f.color.push(e):f.color=[e]:f.color=f.color?.filter((t=>t!==e)),g[0].setAttribute("data-page",1),g.html(y(t,f))})),$(".category__primary__body .clear-all span").click((()=>{[...$(".category__primary__body .category__item input:checked")].forEach((t=>t.checked=!1)),$(".category__primary__body .category__item__color").removeClass("active"),f={},g.html(y(t))})),$(".btn--filter").click((()=>{$(".col--filter").removeClass("hidden-sm"),$(".col--product").addClass("hidden-sm"),scrollToElement($(".col--filter")[0],"start")})),$(".btn-close--filter").click((()=>{$(".col--filter").addClass("hidden-sm"),$(".col--product").removeClass("hidden-sm"),scrollToElement($(".content-product__filter")[0],"start")})),scrollToElement($("main")[0],"start")}