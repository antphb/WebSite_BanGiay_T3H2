const showModalTost=(t,l)=>{l.replace("$$","'"),$(`${t} .modal-body h3`).html(`${l}`),$(t).modal(),$("#modal-tost .btn.close").click((()=>$("#modal-tost").modal("hide")))},handlerClickCompareCart=(t,l,e)=>{$(t).hasClass("active")||(e=e.replace("has been added to","was successfully removed from")),showModalTost(l,e)},handlerClickCompare=(t,l,e,n)=>{$("#modal-product")?.modal?.hide;let a=JSON.parse(localStorage.getItem("TTTHH-COMPARE-KEY"))??[];console.log(a),console.log(l),console.log(a.hasProduct(l)),a.hasProduct(l)?($(t).removeClass("active"),a=a.filter((t=>t.slug!==l.slug))):a.length>=3?n="You cannot add more than 3 product(s) to the product comparison."+n.split(". ")[1]:($(t).addClass("active"),a.push(l)),$(".header__user-menu__item__options__item--compare").html(a.length),handlerClickCompareCart(t,e,n),localStorage.setItem("TTTHH-COMPARE-KEY",JSON.stringify(a))},handlerClickCart=(t,l,e,n)=>{handlerClickCompareCart(t,e,n);let a=JSON.parse(localStorage.getItem("TTTHH-CART-KEY"))??[];a.hasProduct(l)?a=a.map((t=>t.slug===l.slug?{...t,number:t.number+1}:t)):a.push({...l,number:1});const s=a.reduce(((t,l)=>t+l.number),0);$(".header__user-menu__item__number").html(s),localStorage.setItem("TTTHH-CART-KEY",JSON.stringify(a))};function handlerProductModal(){const t=$("#modal-product .modal__product__content__body__item__list ul li"),l=$("#modal-product .modal__product__content__body__item__img img"),e=$("#modal-product .modal__product__content__body__item .size-list ul li"),n=$("#modal-product .modal__product__content__body__item .color-list ul li"),a=$("#modal-product .modal__product__content__body__item .quantity button"),s=$("#modal-product .modal__product__content__body__item .quantity input"),o=$(".modal__product__content__body__item__list button.up"),i=$(".modal__product__content__body__item__list button.down"),c=$(".modal__product__content__body__item__list > ul > li:first-child")[0],d=(t,l)=>{t.removeClass("active"),l.addClass("active")};t.click((function(){d(t,$(this)),l[0].src=$(this).children()[0].src})),e.click((function(){d(e,$(this))})),n.click((function(){d(n,$(this))})),$(a[0]).click((()=>{s[0].value=+s[0].value+1})),$(a[1]).click((()=>{s[0].value=1==+s[0].value?1:s[0].value-1})),o.click((()=>{const t=80*(o.parent().attr("data-length")-4),l=+c.style.marginTop.split("px")[0];o.hasClass("disabled")||(i.removeClass("disabled"),c.style.marginTop=l-80+"px",-1*l==t-80&&o.addClass("disabled"))})),i.click((()=>{const t=+c.style.marginTop.split("px")[0];i.hasClass("disabled")||(o.removeClass("disabled"),c.style.marginTop=`${t+80}px`,-80===t&&i.addClass("disabled"))})),$("#modal-product .close").click((()=>$("#modal-product").modal("hide")))}const showModalProduct=t=>{const l=JSON.parse(localStorage.getItem("TTTHH-COMPARE-KEY"))??[];let e=t;e.name=e.name.replace("$$","'");const n=$("#modal-product"),a=`\n            <div class="modal-dialog" role="document">\n                <div class="modal-content">\n                    <div class="modal-body p-0">\n                        <div class="modal__product__content">\n                            <div class="modal__product__content__header text-right">\n                                <button class="close">\n                                    <i class="fas fa-times"></i>\n                                </button>\n                            </div>\n                            <div class="modal__product__content__body">\n                                <div class="row">\n                                    <div class="col col-xl-6 col-lg-6">\n                                        <div class="modal__product__content__body__item modal__product__content__body__item--left d-flex">\n                                            <div class="modal__product__content__body__item__img position-relative flex-grow-1 flex-shrink-1">\n                                                <img class="img-contain" src="./IMG/${e.listImage[0]}" alt="${e.name}">\n                                                <ul class="product-flags d-flex list-unstyled">\n                                                    ${e.productFlags.map((t=>`\n                                                        <li class="product-flag reduced-price">${t.toLowerCase().split(" ").join("-")}</li>\n                                                    `)).join("")}\n                                                </ul>\n                                            </div>\n                                            <div data-length="${e.listImage.length}" class="modal__product__content__body__item__list">\n                                                <button class="modal__product__content__body__item__list__btn ${e.listImage.length<=4&&"hidden"} d-flex align-items-center justify-content-center up">\n                                                    <i class="fas fa-chevron-up"></i>\n                                                </button>\n                                                <ul class="list-unstyled mb-0">\n                                                    ${e.listImage.map(((t,l)=>`<li class="${0===l&&"active"}"><img class="img-contain" src="./IMG/${t}" alt="${e.name}"></li>`)).join("")}\n                                                </ul>\n                                                <button class="modal__product__content__body__item__list__btn ${e.listImage.length<=4&&"hidden"} d-flex align-items-center justify-content-center down disabled">\n                                                    <i class="fas fa-chevron-down"></i>\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="col col-xl-6 col-lg-6">\n                                        <div class="modal__product__content__body__item modal__product__content__body__item--right">\n                                            <h3 class="name">${e.name}</h3>\n                                            <p class="price">\n                                                <span class="price">$${getPriceProduct(e)}</span>\n                                                <span class="old-price ${e.discount||"hidden"}">$${e.price}</span>\n                                                <span class="discount ${e.discount||"hidden"}">(Save ${e.discount}%)</span>\n                                            </p>\n                                            <p class="detail">\n                                                Tax excluded Delivery: 1 to 3 weeks\n                                            </p>\n                                            <p class="description">Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n                                            <div class="d-flex align-items-center size-list">\n                                                <label class="mb-0" for="">Size</label>\n                                                <ul class="mb-0 list-unstyled d-flex">\n                                                    ${e.size.map(((t,l)=>`<li class="${0===l&&"active"}">${t}</li>`)).join("")}\n                                                </ul>\n                                            </div>\n                                            <div class="d-flex align-items-center color-list">\n                                                <label class="mb-0" for="">Color</label>\n                                                <ul class="mb-0 list-unstyled d-flex">\n                                                    ${e.color.map(((t,l)=>`<li class="${0===l&&"active"}" style="--color: ${t};"></li>`)).join("")}\n                                                </ul>\n                                            </div>\n                                            <div class="d-flex align-items-center quantity">\n                                                <label class="mb-0" for="">Quantity</label>\n                                                <div class="d-flex">\n                                                    <button class="d-flex align-items-center justify-content-center inc"><i class="fas fa-chevron-up"></i></button>\n                                                    <input type="number" class="text-center" value="1" min="0" name="" id="">\n                                                    <button class="d-flex align-items-center justify-content-center dec"><i class="fas fa-chevron-down"></i></button>\n                                                </div>\n                                            </div>\n                                            <div class="group-btns">\n                                                <button class="btn btn-primary">Add to cart</button>\n                                                <button title="Add to Compare" onclick='handlerClickCompare(this, ${JSON.stringify(e)}, "#modal-tost", "The product has been added to list compare. <a href=/ProductsCompare.html>View list compare.</a>")' class="btn p-0 ${l.hasProduct(e)&&"is-added"}">\n                                                    <i class="fas fa-redo"></i>\n                                                    Add to Compare\n                                                </button>\n                                            </div>\n                                            <p class="in-stock">\n                                                <span class="in-stock__icon in-stock__icon--success">\n                                                    <i class="fas fa-check"></i>\n                                                </span>\n                                                <span class="in-stock--text">In stock</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="modal__product__content__footer">\n                                <a title="Share" href="" class="btn btn--facebook"><i class="fab fa-facebook-f"></i></a>\n                                <a title="Tweet" href="" class="btn btn--twitter"><i class="fab fa-twitter"></i></a>\n                                <a title="Google+" href="" class="btn btn--google"><i class="fab fa-google-plus-g"></i></a>\n                                <a title="Pinterest" href="" class="btn btn--pinterest"><i class="fab fa-pinterest"></i></a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;n.html(a),handlerProductModal(),n.modal()};